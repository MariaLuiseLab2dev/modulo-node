<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Backoffice</title>
    <script defer src="script/backoffice.js"></script>
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <header>
        <h1>Sistema de Gestão</h1>
        <nav>
            <ul>
                <li><a href="#categorias" class="active">Categorias</a></li>
                <li><a href="#produtos">Produtos</a></li>
                <li><a href="#pedidos">Pedidos</a></li>
            </ul>
        </nav>
    </header>

    <section id="categorias">
        <div class="table-wrapper">
            <div class="cabecalho">
                <h3>Categorias</h3>
                <button id="novaCategoria" class="btnNovaCategoria">+ Nova Categoria</button>
            </div>
            <!-- único dialog usado para criar/editar categoria -->
            <dialog id="dialogCategoria" class="dialogDiv">
                <div class="dialogContent">
                    <button type="button" class="btnFechar" id="cancelarCategoria"><img src="img/btnFechar.svg"
                            alt="Fechar"></button>

                    <h4 class="dialogTitle">Nova Categoria</h4>

                    <form id="formCategoria" class="dialogForm" method="dialog">
                        <div class="field">
                            <label for="nomeCategoria">Nome</label>
                            <input type="text" id="nomeCategoria" name="nome" placeholder="Digite o nome da categoria"
                                required>
                        </div>

                        <div class="status-group">
                            <label>Status</label>
                            <div class="status-controls">
                                <span id="statusLabel" class="statusVis">Visível</span>
                                <label class="switch">
                                    <input type="checkbox" id="statusCategoria" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                        </div>

                        <div class="dialogButtons">
                            <button type="submit" class="btnSend">Criar Categoria</button>
                        </div>
                    </form>
                </div>
            </dialog>

            <table id="tabelaCategorias">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Nome</th>
                        <th>Status</th>
                        <th>Ações</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
    </section>

    <section id="produtos">
        <div class="table-wrapper">
            <div class="cabecalho">
                <h3>Produtos</h3>
                <button id="novoProduto" class="btnNovoProduto">+ Novo Produto</button>
            </div>

            <dialog id="dialogProduto" class="dialogDiv">
                <div class="dialogContent">
                    <button type="button" class="btnFechar" id="cancelarProduto"><img src="img/btnFechar.svg"alt="Fechar"></button>

                    <h4 class="dialogTitle">Novo Produto</h4>

                    <form id="formProduto" class="dialogForm" method="dialog">
                        <!-- Campo nome -->
                        <div class="field">
                            <label for="nomeProduto">Nome</label>
                            <input type="text" id="nomeProduto" name="nome" placeholder="Digite o nome do produto"
                                required>
                        </div>

                        <!-- Campo descrição -->
                        <div class="field">
                            <label for="descricaoProduto">Descrição</label>
                            <textarea id="descricaoProduto" name="descricao" placeholder="Digite a descrição do produto"
                                required></textarea>
                        </div>

                        <!-- Campo categoria (select) -->
                        <div class="field">
                            <label for="categoriaProduto">Categoria</label>
                            <select id="categoriaProduto" name="id_categoria" required></select>
                        </div>

                        <!-- Campo preço -->
                        <div class="field">
                            <label for="precoProduto">Preço</label>
                            <input type="text" id="precoProduto" name="preco" min="0" step="0.01" required>
                        </div>

                        <!-- Campo estoque -->
                        <div class="field">
                            <label for="estoqueProduto">Estoque</label>
                            <input type="number" id="estoqueProduto" name="estoque" min="0" required>
                        </div>

                        <!-- Toggle de status -->
                        <div class="status-group">
                            <label>Status</label>
                            <div class="status-controls">
                                <span id="statusProdutoLabel" class="statusVis">Visível</span>
                                <label class="switch">
                                    <input type="checkbox" id="statusProduto" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                        </div>

                        <!-- Botões -->
                        <div class="dialogButtons">
                            <button type="submit" class="btnSend">Criar Produto</button>
                        </div>
                    </form>
                </div>
            </dialog>


            <table id="tabelaProdutos">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Nome</th>
                        <th>Descrição</th>
                        <th>Categoria</th>
                        <th>Preço</th>
                        <th>Estoque</th>
                        <th>Status</th>
                        <th>Ações</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
    </section>

    <section id="pedidos">
        <div class="table-wrapper">
            <div class="cabecalho">
                <h3>Pedidos</h3>
                <button id="btnToggleFiltros" class="btnFiltros"><img src="img/btnFiltros.svg"> Filtros</button>
            </div>

            <!-- filtros  -->
            <div id="filtrosPedidos" class="table-wrapper" style="display: none;">
                <h4>Filtros</h4>
                <div class="filtros-horizontal">
                    <div class="filtro-item">
                        <label for="filtroDataInicial">Data inicial</label>
                        <input type="date" id="filtroDataInicial">
                    </div>

                    <div class="filtro-item">
                        <label for="filtroDataFinal">Data final</label>
                        <input type="date" id="filtroDataFinal">
                    </div>

                    <div class="filtro-item">
                        <label for="filtroValorMin">Valor mín</label>
                        <input type="text" id="filtroValorMin" placeholder="R$00,00">
                    </div>

                    <div class="filtro-item">
                        <label for="filtroValorMax">Valor máx</label>
                        <input type="text" id="filtroValorMax" placeholder="R$00,00">
                    </div>
                </div>

                <div class="filtro-actions">
                    <button id="btnLimparFiltros" class="btnFiltros">Limpar Filtros</button>
                    <button id="btnFiltrarPedidos" class="btnFiltrar">Filtrar</button>
                </div>
            </div>

            <dialog id="dialogPedido">
                <div class="dialogDiv">
                    <h4>Pedido</h4>
                    <p><strong>ID:</strong> <span id="pedidoId"></span></p>
                    <p><strong>Data:</strong> <span id="pedidoData"></span></p>
                    <p><strong>Valor Total:</strong><span id="pedidoValor"></span></p>

                    <h5>Itens</h5>
                    <table>
                        <thead>
                            <tr>
                                <th>Produto</th>
                                <th>Descrição</th>
                                <th>Qtd de Itens</th>
                                <th>Preço Unitário</th>
                                <th>Subtotal</th>
                            </tr>
                        </thead>
                        <tbody id="pedidoItens"></tbody>
                    </table>

                    <div>
                        <button id="fecharPedido">Fechar</button>
                    </div>
                </div>
            </dialog>

            <table id="tabelaPedidos">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Data</th>
                        <th>Qtde Itens</th>
                        <th>Valor Total</th>
                        <th>Detalhes</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
    </section>
</body>

</html>